chrome.runtime.onInstalled.addListener(()=>{console.log("Test321 Extension installed"),chrome.storage.local.set({extensionEnabled:!0,installDate:new Date().toISOString()}),chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Test321 Extension",message:"Extension installed successfully! Click the extension icon to get started."})});chrome.action.onClicked.addListener(e=>{console.log("Extension icon clicked on tab:",e.url)});chrome.runtime.onMessage.addListener((e,i,t)=>{if(console.log("Background received message:",e),e.action==="getTabInfo")return chrome.tabs.query({active:!0,currentWindow:!0},o=>{var n,c,s;t({title:(n=o[0])==null?void 0:n.title,url:(c=o[0])==null?void 0:c.url,id:(s=o[0])==null?void 0:s.id})}),!0;e.action==="showNotification"&&(chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:e.title||"Test321 Extension",message:e.message||"Hello from background script!"}),t({success:!0}))});chrome.notifications.onClicked.addListener(e=>{console.log("Notification clicked:",e),chrome.notifications.clear(e)});chrome.tabs.onUpdated.addListener((e,i,t)=>{i.status==="complete"&&t.url&&console.log("Tab updated:",t.url)});
